<!-- Navigation Component -->
<nav id="navbar" aria-label="Main navigation">
    <div class="container navbar-container">
        <a href="${basePath}index.html" class="logo" aria-label="Revelate Operations Home">
            <div class="logo-container">
                <img src="${basePath}images/revelate-spiral-logo.png" alt="Revelate Logo" width="50" height="50">
                <h1>REVELATE</h1>
            </div>
        </a>
        <button class="mobile-toggle" aria-label="Toggle menu" aria-expanded="false" aria-controls="nav-links">
            <i class="fas fa-bars"></i>
        </button>
        <div class="nav-links" id="nav-links">
            <a href="${basePath}index.html#features" class="nav-link">Services</a>
            <a href="${basePath}index.html#how-it-works" class="nav-link">Process</a>
            <a href="${basePath}index.html#team" class="nav-link">About Us</a>
            <a href="${basePath}case-studies.html" class="nav-link">Case Studies</a>
            <a href="${basePath}index.html#contact" class="nav-link">Contact</a>
            <a href="#" class="btn btn-primary nav-cta" id="portal-btn">Client Portal</a>
        </div>
    </div>
</nav>

<script>
    // Script to handle active navigation links
    document.addEventListener('DOMContentLoaded', function() {
        // Get current page URL and the base path
        const currentPath = window.location.pathname;
        const basePath = window.siteBasePath || '';
        
        // Set active navigation links
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            const linkHref = link.getAttribute('href');
            const linkPathSegment = linkHref.split('#')[0].replace('index.html', '').replace(basePath, '');
            const currentPathSegment = currentPath.split('/').filter(segment => segment !== '').pop() || '';
            
            // Handle different cases for marking active links
            if (currentPathSegment === '' && (linkPathSegment === '' || linkPathSegment === 'index.html')) {
                // Home page
                link.classList.add('active');
            } else if (linkPathSegment && currentPathSegment && currentPathSegment.includes(linkPathSegment)) {
                // Other pages
                link.classList.add('active');
            } else if (currentPathSegment.startsWith('case-stud') && linkHref.includes('case-stud')) {
                // Case studies section
                link.classList.add('active');
            }
        });
    });
</script>
